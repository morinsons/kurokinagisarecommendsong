function recommendSong() {
        var moodSelect = document.getElementById('mood');
        var mood = moodSelect.value;
        var moodText = moodSelect.options[moodSelect.selectedIndex].text;
        
        var list = songDatabase[mood];
        if (!list) return;

        var songTitle = list[Math.floor(Math.random() * list.length)];

        // ç”»é¢è¡¨ç¤º
        document.getElementById('songTitle').innerText = "ã€Œ" + songTitle + "ã€";
        
        // Spotifyã‚¢ãƒ—ãƒªç”¨ãƒªãƒ³ã‚¯ï¼ˆã“ã“ã¯ãã®ã¾ã¾ç¶­æŒï¼‰
        var spotifySearchUrl = "https://open.spotify.com/search/" + encodeURIComponent("é»’æœ¨æ¸š " + songTitle);
        document.getElementById('spotLink').href = spotifySearchUrl;
        
        document.getElementById('result').style.display = 'block';

        // Xã‚·ã‚§ã‚¢è¨­å®šï¼ˆSpotifyã®ãƒªãƒ³ã‚¯ã¨æ–‡è¨€ã‚’å®Œå…¨ã«å‰Šé™¤ï¼‰
        var shareText = "ä»Šã®æ„Ÿæƒ…ã¯ã€Œ" + moodText + "ã€ã€‚\næ„Ÿæƒ…ã‚’ã‚‚ã¨ã«é»’æœ¨æ¸šã®ã€" + songTitle + "ã€‘ãŒæç¤ºã•ã‚Œã¾ã—ãŸã€‚\n#é»’æœ¨æ¸š #æ¥½æ›²è¨ºæ–­\n\nğŸ’¡æ¥½æ›²è¨ºæ–­ãƒªãƒ³ã‚¯\nhttps://morinsons.github.io/kurokinagisarecommendsong/";
        
        document.getElementById('xShare').onclick = function() {
            var url = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(shareText);
            window.open(url, '_blank');
        };

        if (window.navigator.vibrate) window.navigator.vibrate([50]);
    }
